<!DOCTYPE html>
<html>
<head>
  <title>Google IP Cookie Injection Test</title>
</head>
<body>
  <h2>Google IP Cookie Injection Test</h2>
  <p>If vulnerable, cookies for <code>.google.com</code> might show up below after loading the raw IP.</p>

  <button onclick="test()">Run Test</button>

  <pre id="output"></pre>

  <script>
    async function test() {
      // Step 1: Request the Google IP in an iframe
      let iframe = document.createElement('iframe');
      iframe.src = "http://104.168.141.136/";
      iframe.style.display = "none";
      document.body.appendChild(iframe);

      // Step 2: Wait a bit for cookies to be set
      await new Promise(r => setTimeout(r, 3000));

      // Step 3: Check document.cookie for google.com
      // ⚠️ Note: JS only sees cookies available to current origin
      // So this will *likely* be empty. Real test is in DevTools > Application > Cookies
      document.getElementById("output").innerText =
        "document.cookie for this page: " + document.cookie +
        "\n\nNow check DevTools → Application → Storage → Cookies for .google.com";
    }
  </script>
</body>
</html>
